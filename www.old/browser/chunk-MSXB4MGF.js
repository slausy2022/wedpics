import{a as O}from"./chunk-DMCD4AVH.js";import{a as E}from"./chunk-5PFP4YBL.js";import{a as N,c as w}from"./chunk-AHQAHTAS.js";import{Aa as S,B as s,E as g,F as a,Ha as j,Ia as x,M as c,Ma as D,N as l,P as u,Q as m,R as p,S as n,T as h,X as I,Y as d,ea as y,ga as b,oa as f,ra as v,wa as C,xa as F,ya as M}from"./chunk-QAHDMDZU.js";import"./chunk-F4FQDMWJ.js";import"./chunk-3STR3EXB.js";import"./chunk-G5YFBQQC.js";import"./chunk-LMXK6WMC.js";import"./chunk-4PGTP63H.js";import"./chunk-RXI45IKK.js";import"./chunk-HC6MZPB3.js";import"./chunk-U5TRODAZ.js";import"./chunk-HCPCAHMU.js";import"./chunk-CXMZVXPG.js";import"./chunk-O6QZTMED.js";import"./chunk-FERD25SW.js";import"./chunk-DGQDX2SM.js";import"./chunk-GBAD7PMF.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-4UAGJSVW.js";import"./chunk-MCRJI3T3.js";import"./chunk-TLUQMX4X.js";import"./chunk-53QC3E2F.js";import"./chunk-EGHARNWC.js";function z(o,e){if(o&1&&(p(0,"ion-card"),h(1,"ion-img",5),n()),o&2){let R=e.$implicit;c(),I("src",R.url)}}var A=(()=>{let e=class e{constructor(i,t,r){this.firestore=i,this.storage=t,this.auth=r,this.images=[],this.user=r.getCurrentUser(),this.getImagesDatabase()}getImagesDatabase(){this.firestore.collection("Images/").snapshotChanges(["added","removed","modified"]).subscribe(i=>{this.images=[],i.forEach(t=>{console.log("imagestorage"),this.getImagesStorage(t)})})}getImagesStorage(i){let t=i.payload.doc.get("storageid");console.log(t),this.storage.ref(t).getDownloadURL().subscribe(r=>{console.log(r),console.log(this.user),console.log(i.payload.doc.get("email")),this.user===i.payload.doc.get("email")&&this.images.push({url:r,description:i.payload.doc.get("description"),email:i.payload.doc.get("email"),date:i.payload.doc.get("date")})})}ngOnDestroy(){this.firestoreSubscription&&this.firestoreSubscription.unsubscribe()}};e.\u0275fac=function(t){return new(t||e)(l(N),l(w),l(E))},e.\u0275cmp=g({type:e,selectors:[["app-usergallerie"]],decls:10,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],[3,"src"]],template:function(t,r){t&1&&(p(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),d(3," Ma Gallerie "),n()()(),p(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),d(8,"Ma Gallerie"),n()()(),u(9,z,2,1,"ion-card",4),n()),t&2&&(m("translucent",!0),c(4),m("fullscreen",!0),c(5),m("ngForOf",r.images))},dependencies:[C,F,M,S,j,x,y]});let o=e;return o})();var H=[{path:"",component:A}],G=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a({type:e}),e.\u0275inj=s({imports:[f.forChild(H),f]});let o=e;return o})();var ee=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a({type:e}),e.\u0275inj=s({imports:[D,b,v,O,G]});let o=e;return o})();export{ee as UserGalleriePageModule};
