import{A as a,D as s,cb as u,ma as c}from"./chunk-QAHDMDZU.js";import{g as o}from"./chunk-EGHARNWC.js";var g=(()=>{let e=class e{constructor(r,i){this.afAuth=r,this.router=i,this.afAuth.authState.subscribe(t=>{t?(console.log("connect\xE9: "+t.uid),this.connected=!0,this.userId=t.uid,this.mail=t.email,this.method=t.providerData[0].providerId):(console.log("non connect\xE9"),this.connected=!1)})}login(r,i){return o(this,null,function*(){try{return yield this.afAuth.signInWithEmailAndPassword(r,i),this.router.navigate(["tabs"]),!0}catch(t){return console.error("Login error:",t),!1}})}signUp(r,i){return o(this,null,function*(){try{return yield this.afAuth.createUserWithEmailAndPassword(r,i),this.router.navigate(["tabs"]),!0}catch(t){return console.error("Login error:",t),!1}})}logout(){return o(this,null,function*(){try{yield this.afAuth.signOut(),this.router.navigate(["login"])}catch(r){console.error("Logout error:",r),this.router.navigate(["/login"])}})}status(){return this.connected}getCurrentUser(){return this.mail}};e.\u0275fac=function(i){return new(i||e)(s(u),s(c))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{g as a};
